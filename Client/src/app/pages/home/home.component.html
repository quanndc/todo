<div class="container">
  <app-side-bar></app-side-bar>
  <div class="body">
    <div class="main-board">
      <!-- <button (click)="newTask()">
        add
      </button> -->
      <div class="container-wrapper">
        <div class="task-board">
          <div class="todo-board">
            <div class="add-task">
              <h2>Todo</h2>
              <button (click)="newTask()"><i class="fi fi-br-plus"></i></button>
            </div>
            <mat-card cdkDropList id="todo" #todoList="cdkDropList" [cdkDropListData]="todo | async"
              [cdkDropListConnectedTo]="[doneList, inProgressList]" (cdkDropListDropped)="drop($event)" class="list">
              <p class="empty-label" *ngIf="(todo|async)?.length === 0">Empty list</p>
              <app-task (edit)="editTask('todo', $event)" *ngFor="let task of todo | async" cdkDrag [task]="task"></app-task>
            </mat-card>
          </div>

          <div class="doing-board">
            <h2>In progress</h2>

            <mat-card cdkDropList id="inProgress" #inProgressList="cdkDropList" [cdkDropListData]="inProgress | async"
              [cdkDropListConnectedTo]="[todoList, doneList]" (cdkDropListDropped)="drop($event)" class="list">
              <p class="empty-label" *ngIf="(inProgress|async)?.length === 0">Empty list</p>
              <app-task (edit)="editTask('inProgress', $event)" *ngFor="let task of inProgress|async" cdkDrag
                [task]="task"></app-task>
            </mat-card>
          </div>

          <div class="done-board">
            <h2>Done</h2>

            <mat-card cdkDropList id="done" #doneList="cdkDropList" [cdkDropListData]="done | async"
              [cdkDropListConnectedTo]="[todoList, inProgressList]" (cdkDropListDropped)="drop($event)" class="list">
              <p class="empty-label" *ngIf="(done|async)?.length === 0">Empty list</p>
              <app-task (edit)="editTask('done', $event)" *ngFor="let task of done|async" cdkDrag [task]="task"></app-task>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>